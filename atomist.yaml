#
#  Copyright © 2020 Atomist, Inc.
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
# 
    
skill:
  name: atomist/github-auto-rebase-skill
  title: Auto-rebase pull request
  version: 2.0.10
  author: Atomist
  description: |
    Automatically rebase a pull request branch if there are pushes to the base branch
  documentation: |-
    Automatically rebase a pull request branch if there are pushes to the base branch. 
    Keep pull request branches current with the base branch to identify merge issues and 
    avoid a surprise when you go to merge. You don't have to think about your pull request 
    branches any more — this skill keeps them in harmony with the base branch.
  category:
    - code_review
    - dev_ex
  license: Apache-2.0
  homepage: https://github.com/atomist-skills/github-auto-rebase-skill
  repository: https://github.com/atomist-skills/github-auto-rebase-skill.git
  icon: data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCAzOCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzEuNjM1OCAyMS44NzVDMjkuMzI2NCAyMS44NzUgMjcuMjcwMSAyMy4xNTYzIDI2LjE2MjggMjUuMDYyNVYyNUMyMi44NDExIDI0LjkzNzUgMTguOTgxNSAyMy44NzUgMTYuMjYwOCAyMS44MTI1QzEzLjg4ODEgMjAgMTEuNTE1NCAxNi43ODEzIDEwLjI4MTYgMTQuMTg3NUMxMS4zMDM4IDEzLjM4MDcgMTIuMDQ2NiAxMi4yNzk4IDEyLjQwNyAxMS4wMzczQzEyLjc2NzQgOS43OTQ4OCAxMi43Mjc1IDguNDcyNDUgMTIuMjkzIDcuMjUzMzZDMTEuODU4NCA2LjAzNDI3IDExLjA1MDcgNC45Nzg5MiA5Ljk4MTcxIDQuMjMzNjFDOC45MTI3NyAzLjQ4ODMgNy42MzU1NiAzLjA4OTk1IDYuMzI3MTYgMy4wOTM3OEMyLjgxNTU5IDMuMDkzNzggMCA1LjkwNjI4IDAgOS4zNzUwM0MwLjAwNjY2NDg0IDEwLjQ2NTcgMC4zMDIxNzggMTEuNTM1NyAwLjg1NzE2OSAxMi40Nzg3QzEuNDEyMTYgMTMuNDIxNiAyLjIwNzMxIDE0LjIwNDcgMy4xNjM1OCAxNC43NVYzNS4yNUMxLjI5NzA3IDM2LjM0MzggMCAzOC4zNDM4IDAgNDAuNjI1QzAgNDQuMDkzOCAyLjgxNTU5IDQ2Ljg3NSA2LjMyNzE2IDQ2Ljg3NUM3LjcxNzA4IDQ2Ljg3ODcgOS4wNjkyNyA0Ni40Mjg1IDEwLjE3MzQgNDUuNTk0NkMxMS4yNzc2IDQ0Ljc2MDYgMTIuMDcxOCA0My41ODk3IDEyLjQzMjcgNDIuMjYzOEMxMi43OTM1IDQwLjkzNzggMTIuNzAwNyAzOS41MzEzIDEyLjE2ODYgMzguMjYyOUMxMS42MzY2IDM2Ljk5NDUgMTAuNjk1MiAzNS45MzUzIDkuNDkwNzQgMzUuMjVWMjMuOTY4OEMxMS42MTAzIDI2LjE1NjMgMTQuMDQ2MyAyNy45Mzc1IDE2Ljc2NyAyOS4yNUMxOS40ODc3IDMwLjU2MjUgMjMuMTg5IDMxLjIxODggMjYuMTYyOCAzMS4yNVYzMS4xODc1QzI3LjMwMTcgMzMuMDkzOCAyOS4zMjY0IDM0LjM3NSAzMS42MzU4IDM0LjM3NUMzNS4xNDc0IDM0LjM3NSAzNy45NjMgMzEuNTkzOCAzNy45NjMgMjguMTI1QzM3Ljk2MyAyNC42NTYzIDM1LjE0NzQgMjEuODc1IDMxLjYzNTggMjEuODc1Wk0xMC4xMjM1IDQwLjYyNUMxMC4xMjM1IDQyLjY4NzUgOC4zODM0OSA0NC4zNzUgNi4zMjcxNiA0NC4zNzVDNC4yNzA4MyA0NC4zNzUgMi41MzA4NiA0Mi42NTYzIDIuNTMwODYgNDAuNjI1QzIuNTMwODYgMzguNTkzOCA0LjI3MDgzIDM2Ljg3NSA2LjMyNzE2IDM2Ljg3NUM4LjM4MzQ5IDM2Ljg3NSAxMC4xMjM1IDM4LjU5MzggMTAuMTIzNSA0MC42MjVaTTYuMzI3MTYgMTMuMTI1QzQuMjM5MiAxMy4xMjUgMi41MzA4NiAxMS40MDYzIDIuNTMwODYgOS4zNzUwM0MyLjUzMDg2IDcuMzQzNzggNC4yNzA4MyA1LjYyNTAzIDYuMzI3MTYgNS42MjUwM0M4LjM4MzQ5IDUuNjI1MDMgMTAuMTIzNSA3LjM0Mzc4IDEwLjEyMzUgOS4zNzUwM0MxMC4xMjM1IDExLjQwNjMgOC4zODM0OSAxMy4xMjUgNi4zMjcxNiAxMy4xMjVaTTMxLjYzNTggMzEuODc1QzI5LjU0NzggMzEuODc1IDI3LjgzOTUgMzAuMTU2MyAyNy44Mzk1IDI4LjEyNUMyNy44Mzk1IDI2LjA5MzggMjkuNTc5NSAyNC4zNzUgMzEuNjM1OCAyNC4zNzVDMzMuNjkyMSAyNC4zNzUgMzUuNDMyMSAyNi4wOTM4IDM1LjQzMjEgMjguMTI1QzM1LjQzMjEgMzAuMTU2MyAzMy42OTIxIDMxLjg3NSAzMS42MzU4IDMxLjg3NVoiIGZpbGw9IiMxQjM0NEIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMCI+CjxyZWN0IHdpZHRoPSIzNy45NjMiIGhlaWdodD0iNTAiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+
  video: https://images.atomist.com/skills/github-auto-rebase.gif
  
  package:
    use: atomist/package-npm-skill

  runtime:
    memory: 1024
    name: nodejs10
    entry_point: entryPoint
    timeout: 60

resource_providers:
  - name: github
    description: GitHub
    type_name: GitHubAppResourceProvider
    min_required: 1
    max_allowed: 1
  - name: slack
    description: Slack
    type_name: SlackResourceProvider
    min_required: 0
    max_allowed: 1

parameters:
  - single_choice:
      name: strategy
      display_name: Default merge strategy
      description: |-
        Select which merge strategy to use when rebasing pull request branches
      options:
        - text: Ours
          value: ours
        - text: Theirs
          value: theirs
      required: false
  - repo_filter:
      name: repos
      display_name: Repositories
      description: ''
      required: false

